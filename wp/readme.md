
<h1>wallproxy</h1>
======================

注：这是只是一个方便国内用户使用的镜像项目，由我个人copy。

项目主页：https://github.com/dk9999/test

本镜像的目的，是测试依附于Github的网络传播自由，并为无法访问google code的墙内朋友提供一个替代方案。

wallproxy项目主页：https://code.google.com/p/wallproxy/

<a href="https://github.com/dk9999/test/blob/wp/dl_wp.md">本镜像整理的wallproxy下载地址</a>


=======================


 <h2><a name="提示"></a>提示<a href="#提示" class="section_anchor"></a></h2><ul><li>如果<tt>YouTube</tt>遇到<a href="https://code.google.com/p/wallproxy/issues/detail?id=1004" rel="nofollow">上传者已禁止在您的国家/地区播放此视频</a>的问题，请尝试在<tt>[hosts]crlf_rules</tt>中添加或删除<tt>\n /^https?:\/\/www\.youtube\.com\/watch\?/</tt>。 </li></ul><blockquote><!--* 目前YouTube必须通过FWD发起观看（否则易出现有缓冲无播放的情况；视频文件本身则可通过GAE来加速，而且视频文件只支持http，通过crlf走FWD在一定程度上可行，但有时候还是会因为添加crlf后导致YouTube服务器无法识别而出现无法播放完整个分段视频的情况；所以建议的修改方案则是github中最新proxy.ini所示，即发起观看走FWD，对视频文件仍走GAE），所以/^https?:\/\/www\.youtube\.com\/watch\?/必须添加到crlf_rules，也即无法再通过删除这条规则解决“[https://code.google.com/p/wallproxy/issues/detail?id=1004 上传者已禁止在您的国家/地区播放此视频]”；如果全部无法正常观看，请及时更新配置文件（通过[https://code.google.com/p/wallproxy/#公告 本页下载链接]重新下载或者只更新[https://github.com/wallproxy/wallproxy/blob/win/local/proxy.ini proxy.ini]）；--> 
</blockquote><ul><li>为解决<a href="https://code.google.com/p/wallproxy/issues/detail?id=933" rel="nofollow">facebook无法上传图片/视频</a>的问题，facebook已改为 <strong>直连</strong>，如果有问题，修改proxy.ini从<tt>[google_hk]truehttps</tt>中删除<tt>|.facebook.com</tt>即可恢复为走<tt>GAE</tt>状态（<tt>2013.7.4更新，由于直连已不可用，改为走GAE，无法上传图片</tt>）； </li><li>如果觉得有必要更新proxy.ini和userlist.ini，欢迎<a href="https://help.github.com/articles/fork-a-repo" rel="nofollow">fork</a>修改好后<a href="https://help.github.com/articles/creating-a-pull-request" rel="nofollow">send pull request</a>到<a href="https://github.com/wallproxy/wallproxy" rel="nofollow">wallproxy@github</a>。 </li></ul><h2><a name="公告"></a>公告<a href="#公告" class="section_anchor"></a></h2><ul><li><tt>WallProxy v2.2.1</tt> 版发布, 下载链接如下: </li><ul><li><tt>Windows</tt> 用户更新或其他系统 (如 Linux, Mac, OpenWRT, Tomato，DDWRT) 用户请下载 <a href="http://goo.gl/D2UJv" rel="nofollow">http://goo.gl/D2UJv</a> (0.5MB), 更新时直接覆盖原有版本(请注意更新后重新修改Appid信息). </li><li> <tt>Windows</tt> 用户首次使用请下载完整版 <a href="http://goo.gl/dFtij" rel="nofollow">http://goo.gl/dFtij</a> (5.4MB).<!-- </li><p>  * 备用链接：[https://wallproxy.googlecode.com/archive/win.zip 完整版](v2.1.13)--> </li><li>dev版本下载：<a href="http://goo.gl/pvAsv" rel="nofollow">http://goo.gl/pvAsv</a> </li></ul><li>部分功能简介 </li><ul><li><tt>稳定代理无法访问网站(例如Twitter)或者加速慢速网站(例如Google系列网站)</tt>； </li><li><tt>自动代理/智能代理/GAE代理三种模式全面覆盖代理需求</tt>； </li><li><tt>简洁的WEB界面、可管理系统代理的GUI更方便使用</tt>； </li><li><tt>无缝支持稳定的YouTube视频/直播/上传</tt>； </li><li><tt>支持facebook图片/视频上传</tt>； </li><li><tt>多线程加速视频观看</tt>； </li><li><tt>支持AutoProxy规则及ip列表规则且适用于绝大部分浏览器(例如IE/Chrome/Firefox等)</tt>； </li><li><tt>简单修改ini文件即可实现非常复杂的配置需求</tt>； </li><li><tt>兼容goagent1.x服务端(不必重新上传即可使用，为了获得更好的体验，建议上传)</tt>； </li><li><tt>跨平台(Win/Linux/Apple/手机/路由器等系统均可运行)</tt>； </li><li><tt>插件式设计可集成更多功能且不增加基本功能复杂度</tt>。 </li></ul><li>新版 <tt>WallProxy</tt> 由原作者对旧版 <tt>WallProxy</tt> 重写, 因为 <tt>GoAgent</tt> 用户较多, 为了方便大多数人利用原有 <tt>GoAgent</tt> 的服务端, GAE 插件部分以兼容 <tt>GoAgent</tt> 为主, 而非旧版 <tt>WallProxy</tt>. </li><li>运行环境: Python v2.5, v2.6 和 v2.7, 建议 v2.7 + Gevent + pyOpenSSL (完整版的 <tt>WallProxy</tt> 已包含了 Windows 下的运行环境). </li><li>客户端更新记录：<!--不要单用版本号，不靠谱的 --> </li><ul><li>v2.2.1(2014.05.04): <tt>总是从proxy.ini和user.ini生成config.py；WEB页面支持编辑user.ini；改善Windows下通过WEB重启的可靠性</tt> </li><li>v2.2.0(2014.05.01): <tt>自定义规则页面支持多个ini文件；增加读取user.ini（可覆盖proxy.ini中的相同配置项）</tt> </li><li>v2.1.20(2014.04.15): <tt>在log输出中显示当前连接所用的远端ip，以便与浏览器对照后剔除不合适的ip；可以通过浏览器下载已生成的证书</tt> </li><li>v2.1.19.1(2013.9.5): <tt>当在线规则Last-Modified时间与上次更新后相同时不重复下载规则而是使用上次结果，从而节约流量</tt> </li><li>v2.1.19(2013.08.11): <tt>修复自定义规则时正则表达式中使用\W等大写转义字符会变成小写从而无法达到预期目的的Bug</tt> </li><li>v2.1.18(2013.06.25): <tt>GUI更新：“默认代理”可以设置而非只能是无代理，“退出时恢复无代理”改名为“退出时恢复默认代理”，“禁用切换”改名为“默认并禁用”，“设置代理”对话框支持上下移动代理项，托盘图标区分默认代理/全局代理/PAC代理；“设置”对话框修改proxy.ini后自动重启代理进程，设置PAC代理后FTP无法使用的问题</tt> </li></ul><li>服务端更新记录： </li><ul><li>v2.1.14.4(2013.02.22) <tt>增加兼容代码，兼容GoAgent2.1.12版本，可以不用重新上传服务端。</tt> </li><li>v2.0.14(2012.10.27) 减小服务端的超时时间, 需要重新上传服务端. </li></ul><li>关于是否需要重新上传: 这里有两条更新记录, 上一个版本小于第二条就需要重新上传, 例如这里是 v2.0.14, 如果之前没用过或者是 v2.0.10 就需要, 否则不需要. </li><li>如何在Android设备上使用？  <a href="/p/wallproxy/wiki/AndroidFAQ">参见AndroidFAQ文档</a>或使用gaeproxy原版并填入appid即可。 </li><li>如何在iOS设备上使用？ <a href="/p/wallproxy/wiki/iOSFAQ">参见iOSFAQ文档</a> 。 </li><li>如何在Linux系统上使用？<a href="/p/wallproxy/wiki/CentOS">CentOS安装文档</a>，<a href="/p/wallproxy/wiki/Ubuntu">Ubuntu安装文档</a> </li><li>如何在路由器上使用？<a href="/p/wallproxy/wiki/DDWRT">DDWRT</a>，<a href="/p/wallproxy/wiki/OpenWRT">OpenWRT</a>，<a href="/p/wallproxy/wiki/Tomato">Tomato</a> </li></ul><p></p><h2><a name="简易教程（_）"></a>简易教程（<a href="/p/wallproxy/wiki/Tutorial2">图文教程2.0&lt;&lt;&lt;&lt;务必仔细阅读&gt;&gt;&gt;&gt;</a>）<a href="#简易教程（_）" class="section_anchor"></a></h2><ol><li><a href="https://appengine.google.com/" rel="nofollow">申请GAE</a>并创建appid（程序内置一些 <strong>公共appid</strong> <tt>[</tt><a href="https://code.google.com/p/wallproxy/issues/detail?id=55#c4" rel="nofollow">不保证安全性</a><tt>]</tt>，下载后也可直接使用<tt>[跳过4、5步]</tt>，目前公共appid每天很早就流量耗尽，提示 <strong>Bandwidth Over Quota(appid)</strong> ，个数与设置的appid个数相同，故为获得更好体验，强烈建议申请并上传自己的）； </li><li>下载wallproxy并解压； </li><li>运行local文件夹下<tt>WallProxy.exe或者Run.bat</tt>（非Windows用户运行startup.py，Windows若提示是否允许安装证书，请允许）； </li><li>上传：运行server文件夹下uploader.bat(非Windows用户运行uploader.py)，输入appid上传（一次只能上传同一个Gmail帐号下的appid，多个appid用|分隔，提示Set Proxy时可<a href="https://code.google.com/p/wallproxy/issues/detail?id=53#c2" rel="nofollow">输入1来提高上传成功率</a>，在默认配置下，选择1使用的是内置hosts规则而非内置公共APPID上传，不受公共APPID安全性影响）； </li><li>访问<a href="http://127.0.0.1:8086/#proxy_ini" rel="nofollow">http://127.0.0.1:8086/#proxy_ini</a>（若无法访问请确认执行了第3步），找到如下部分（59行左右）并修改appid = 后面为自己的appid，点右上角的“保存”之后即可使用了； </li><pre class="prettyprint"><span class="pun">[</span><span class="pln">gae</span><span class="pun">]</span><span class="pln"><br></span><span class="pun">;是否启用</span><span class="pln">GAE</span><span class="pun">服务端</span><span class="pln"><br>enable </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br></span><span class="pun">;服务端</span><span class="pln">appid</span><span class="pun">（多个用|分隔，个数不限）</span><span class="pln"><br>appid </span><span class="pun">=</span><span class="pln"> appid1</span><span class="pun">|</span><span class="pln">appid2</span></pre><li>代理地址127.0.0.1:8087；如需使用PAC，设置<a href="http://127.0.0.1:8086/proxy.pac" rel="nofollow">http://127.0.0.1:8086/proxy.pac</a>；如需使用<tt>SwitchySharp/AutoProxy</tt>等浏览器扩展（<tt>SwitchySharp用户可导入配置local\misc\SwitchyOptions.bak</tt>），见图文教程（GUI应该选择“禁用切换”）；如需使用智能代理（使无法使用PAC或扩展的程序也做到该走代理走代理，不该走就不走），设置127.0.0.1:8086为代理即可；如果使用<tt>GUI</tt>托盘左键菜单管理IE代理，宽带拨号用户注意先在代理设置对话框填入连接名称（一般为“宽带连接”，见图文教程）。 </li><li>导入<a href="http://127.0.0.1:8086/CA.crt" rel="nofollow">http://127.0.0.1:8086/CA.crt</a>为浏览器根证书可消除浏览器证书警告（IE用户如果第2步已选择允许就不用再向IE导入了，不要重复导入；cmd窗口提示时间与导入后查看到的时间相同基本就是导入成功了，升级版本时请保留cert目录，以免需要再次导入） </li><li>可通过<a href="http://127.0.0.1:8086" rel="nofollow">http://127.0.0.1:8086</a>或<a href="http://wallproxy" rel="nofollow">http://wallproxy</a>访问Web配置界面 </li></ol><hr><h2><a name="FAQ(高级玩家必读，新手提出问题前必读，建议所"></a>FAQ(高级玩家必读，新手提出问题前必读，建议所有用户使用<tt>Wallproxy</tt>之前必读)<a href="#FAQ(高级玩家必读，新手提出问题前必读，建议所" class="section_anchor"></a></h2><h2><a name=""></a><a href="/p/wallproxy/wiki/FAQ">https://code.google.com/p/wallproxy/wiki/FAQ</a></h2><h3><a name="注意：本FAQ页会经常更新，建议大家经常查阅，�"></a>注意：本FAQ页会经常更新，建议大家经常查阅，也欢迎大家在Issue提出更新建议，我们会酌情修改<a href="#注意：本FAQ页会经常更新，建议大家经常查阅，�" class="section_anchor"></a></h3><hr><h2><a name="计划"></a>计划<a href="#计划" class="section_anchor"></a></h2><ul><li>重新编写（进行中） </li><li>Web配置界面（进行中，暂时需要直接编辑文件，作为替代，实现了ini转py） </li><li>支持通配符证书（已实现） </li><li>PAC支持China IP List等IP列表，修复bug（已实现） </li><li>改善对GAE的支持（进行中，暂时先兼容goagent） </li><li>更通用的多ip连接，而非仅仅针对.appspot.com（已实现） </li><li>结合gevent，改善并发访问（已实现） </li><li>更方便的局域网共享，更方便对用户进行身份认证（已实现） </li><li>完善作为http、https、socks4、socks5代理使用，可socks转https/http，https转http（已实现） </li><li>完善对http、https、socks4、socks5代理的支持，支持basic/digest认证，修复bug（已实现） </li></ul><hr><ul><li>This project is used for issues and wikis of <a href="https://github.com/wallproxy/wallproxy/" rel="nofollow">wallproxy@github</a>。 </li></ul>

